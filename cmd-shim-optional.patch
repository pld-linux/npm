--- npm-1.2.17/lib/build.js~	2013-04-03 19:11:45.000000000 +0300
+++ npm-1.2.17/lib/build.js	2013-04-04 22:37:51.277211534 +0300
@@ -16,7 +16,7 @@
   , readJson = require("read-package-json")
   , link = require("./utils/link.js")
   , linkIfExists = link.ifExists
-  , cmdShim = require("cmd-shim")
+  , cmdShim = (process.platform === "win32") ? require("cmd-shim") : {}
   , cmdShimIfExists = cmdShim.ifExists
   , asyncMap = require("slide").asyncMap
 
--- npm-1.2.17/package.json~	2013-04-03 20:03:47.000000000 +0300
+++ npm-1.2.17/package.json	2013-04-04 22:40:22.977560473 +0300
@@ -69,8 +69,7 @@
     "once": "~1.1.1",
     "npmconf": "0",
     "opener": "~1.3.0",
-    "chmodr": "~0.1.0",
-    "cmd-shim": "~1.1.0"
+    "chmodr": "~0.1.0"
   },
   "bundleDependencies": [
     "semver",
