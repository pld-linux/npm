--- npm-1.2.17/lib/build.js~	2013-04-03 19:11:45.000000000 +0300
+++ npm-1.2.17/lib/build.js	2013-04-04 22:37:51.277211534 +0300
@@ -16,7 +16,7 @@
   , readJson = require("read-package-json")
   , link = require("./utils/link.js")
   , linkIfExists = link.ifExists
-  , cmdShim = require("cmd-shim")
+  , cmdShim = (process.platform === "win32") ? require("cmd-shim") : {}
   , cmdShimIfExists = cmdShim.ifExists
   , asyncMap = require("slide").asyncMap
 
--- b.old/package.json	2014-02-20 17:04:25.000000000 +0100
+++ b/package.json	2014-03-12 17:43:56.387295668 +0100
@@ -69,7 +69,6 @@
     "npmconf": "~0.1.12",
     "opener": "~1.3.0",
     "chmodr": "~0.1.0",
-    "cmd-shim": "~1.1.1",
     "sha": "~1.2.1",
     "editor": "0.0.5",
     "child-process-close": "~0.1.1",
