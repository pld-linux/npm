--- npm-1.2.17/lib/build.js~	2013-04-03 19:11:45.000000000 +0300
+++ npm-1.2.17/lib/build.js	2013-04-04 22:37:51.277211534 +0300
@@ -16,7 +16,7 @@
   , readJson = require("read-package-json")
   , link = require("./utils/link.js")
   , linkIfExists = link.ifExists
-  , cmdShim = require("cmd-shim")
+  , cmdShim = (process.platform === "win32") ? require("cmd-shim") : {}
   , cmdShimIfExists = cmdShim.ifExists
   , asyncMap = require("slide").asyncMap
 
--- npm-1.4.11/package.json~	2014-05-23 04:06:25.000000000 +0300
+++ npm-1.4.11/package.json	2016-01-08 17:52:01.188614298 +0200
@@ -41,7 +41,6 @@
     "child-process-close": "~0.1.1",
     "chmodr": "~0.1.0",
     "chownr": "0",
-    "cmd-shim": "~1.1.1",
     "columnify": "~0.1.2",
     "editor": "0.0.5",
     "fstream": "~0.1.25",
